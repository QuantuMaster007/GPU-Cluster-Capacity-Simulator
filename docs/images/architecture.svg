<svg width="920" height="580" viewBox="0 0 920 580" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="headerGradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#00d2ff;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#3a7bd5;stop-opacity:1" />
    </linearGradient>

    <filter id="shadow" x="-5%" y="-5%" width="110%" height="110%">
      <feGaussianBlur in="SourceAlpha" stdDeviation="3"/>
      <feOffset dx="2" dy="2" result="offsetblur"/>
      <feComponentTransfer><feFuncA type="linear" slope="0.2"/></feComponentTransfer>
      <feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge>
    </filter>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#444"/>
    </marker>
  </defs>

  <style>
    .box-in { fill: #e3f2fd; stroke: #1976d2; stroke-width: 2; }
    .box-core { fill: #f1f8e9; stroke: #388e3c; stroke-width: 2; }
    .box-out { fill: #fff3e0; stroke: #f57c00; stroke-width: 2; }
    /* Brighter Heading Style */
    .t1 { font: bold 26px 'Segoe UI', Arial, sans-serif; fill: url(#headerGradient); }
    .t2 { font: bold 14px Arial, sans-serif; fill: #333; }
    .t3 { font: 12px Arial, sans-serif; fill: #555; }
    .line { stroke: #444; stroke-width: 2; marker-end: url(#arrowhead); fill: none; }
  </style>
  
  <text x="460" y="45" text-anchor="middle" class="t1">GPU Cluster Capacity Simulator Architecture</text>

  <g filter="url(#shadow)">
    <rect x="50" y="90" width="240" height="130" rx="10" class="box-in"/>
    <text x="170" y="120" text-anchor="middle" class="t2">CONFIG &amp; WORKLOADS</text>
    <text x="70" y="145" class="t3">• Cluster Topology (Nodes/GPUs)</text>
    <text x="70" y="165" class="t3">• Poisson Job Arrival Rates</text>
    <text x="70" y="185" class="t3">• Training vs Inference Specs</text>
  </g>

  <g filter="url(#shadow)">
    <rect x="340" y="90" width="240" height="130" rx="10" class="box-in"/>
    <text x="460" y="120" text-anchor="middle" class="t2">CLI CONTROLLER</text>
    <text x="360" y="145" class="t3">• argparse Command Parser</text>
    <text x="360" y="165" class="t3">• Config Validation Engine</text>
  </g>

  <g filter="url(#shadow)">
    <rect x="310" y="270" width="300" height="160" rx="10" class="box-core"/>
    <text x="460" y="300" text-anchor="middle" class="t2">SIMULATION ENGINE</text>
    <text x="330" y="330" class="t3">• Discrete-Time Event Loop</text>
    <text x="330" y="350" class="t3">• First-Fit Decreasing (FFD) Scheduler</text>
    <text x="330" y="370" class="t3">• Fragmentation &amp; Packing Logic</text>
  </g>

  <g filter="url(#shadow)">
    <rect x="50" y="270" width="220" height="160" rx="10" class="box-core"/>
    <text x="160" y="300" text-anchor="middle" class="t2">METRICS ANALYZER</text>
    <text x="70" y="330" class="t3">• GPU Utilization (%)</text>
    <text x="70" y="350" class="t3">• Queue Wait Time Analysis</text>
  </g>

  <g filter="url(#shadow)">
    <rect x="650" y="270" width="220" height="160" rx="10" class="box-core"/>
    <text x="760" y="300" text-anchor="middle" class="t2">HARDWARE MODEL</text>
    <text x="670" y="330" class="t3">• Virtual Node Registry</text>
    <text x="670" y="350" class="t3">• GPU State Management</text>
  </g>

  <g filter="url(#shadow)">
    <rect x="310" y="480" width="300" height="80" rx="10" class="box-out"/>
    <text x="460" y="510" text-anchor="middle" class="t2">DATA OUTPUTS</text>
    <text x="460" y="535" text-anchor="middle" class="t3">CSV Logs | Plotly Visuals | Insights Report</text>
  </g>

  <path d="M 290 155 L 340 155" class="line"/>
  <path d="M 460 220 L 460 270" class="line"/>
  <path d="M 310 350 L 270 350" class="line"/>
  <path d="M 610 350 L 650 350" class="line"/>
  <path d="M 460 430 L 460 480" class="line"/>
</svg>
